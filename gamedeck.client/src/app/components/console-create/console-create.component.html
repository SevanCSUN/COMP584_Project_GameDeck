<div class="console-create-container">
  <div class="header">
    <h1>Add Console</h1>
    <a routerLink="/consoles" class="back-link">‚Üê Back to Consoles</a>
  </div>

  @if (error) {
    <div class="alert alert-error">{{ error }}</div>
  }

  <form [formGroup]="form" (ngSubmit)="onSubmit()" class="console-form">
    <div class="form-row">
      <div class="form-group">
        <label for="manufacturer">Manufacturer *</label>
        <input id="manufacturer" type="text" formControlName="manufacturer" [class.invalid]="isFieldInvalid('manufacturer')" class="form-control" />
        @if (isFieldInvalid('manufacturer')) {
          <div class="error-message">{{ getFieldError('manufacturer') }}</div>
        }
      </div>

      <div class="form-group">
        <label for="releaseYear">Release Year *</label>
        <input id="releaseYear" type="number" formControlName="releaseYear" [class.invalid]="isFieldInvalid('releaseYear')" class="form-control year" />
        @if (isFieldInvalid('releaseYear')) {
          <div class="error-message">{{ getFieldError('releaseYear') }}</div>
        }
      </div>
    </div>

    <div class="form-group">
      <label for="name">Name *</label>
      <input id="name" type="text" formControlName="name" [class.invalid]="isFieldInvalid('name')" class="form-control" />
      @if (isFieldInvalid('name')) {
        <div class="error-message">{{ getFieldError('name') }}</div>
      }
    </div>

    <div class="form-actions">
      <button type="submit" class="btn btn-primary" [disabled]="form.invalid || loading">
        {{ loading ? 'Saving...' : 'Create Console' }}
      </button>
      <a routerLink="/consoles" class="btn btn-secondary">Cancel</a>
    </div>
  </form>
</div>


